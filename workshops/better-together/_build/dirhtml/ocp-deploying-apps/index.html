

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6. Applications in OpenShift &mdash; Better Together: OpenShift and Ansible Workshop Ops Lab Guide 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="7. OpenShift SDN" href="../ocp-sdn/" />
    <link rel="prev" title="5. Protection with SELinux" href="../container-selinux/" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../" class="icon icon-home"> Better Together: OpenShift and Ansible Workshop Ops Lab Guide
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Index</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ansible-intro/">1. Getting to know Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocp-intro/">2. OpenShift Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-namespaces/">3. How containers work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-cgroups/">4. Quotas and Limits with kernel control groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-selinux/">5. Protection with SELinux</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Applications in OpenShift</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#deploying-your-first-applications">6.1. Deploying your first applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiple-ways-to-deploy-applications">6.2. Multiple ways to deploy applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-cli">6.3. Using the CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scaling-an-application-using-the-cli">6.4. 2.3.4 - Scaling an application using the CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-web-interface">6.5. Using the web interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ocp-sdn/">7. OpenShift SDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocp-routing/">8. Routing layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration/">9. OpenShift and Ansible integration points</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci-cd/">10. A real world CI/CD scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../summary/">11. Q&amp;A and Wrap-Up</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">Better Together: OpenShift and Ansible Workshop Ops Lab Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../">Docs</a> &raquo;</li>
        
      <li>6. Applications in OpenShift</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/ocp-deploying-apps.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="applications-in-openshift">
<h1>6. Applications in OpenShift<a class="headerlink" href="#applications-in-openshift" title="Permalink to this headline">¶</a></h1>
<p>In this section, we’ll use both the CLI and web interface to deploy and
examine applications in OpenShift. While this certainly isn’t an
Ops-specific domain, it’s required knowledge for all OpenShift users.</p>
<div class="section" id="deploying-your-first-applications">
<h2>6.1. Deploying your first applications<a class="headerlink" href="#deploying-your-first-applications" title="Permalink to this headline">¶</a></h2>
<p>We’ll be using a <a class="reference external" href="https://github.com/OpenShiftInAction/image-uploader">sample
application</a>
which is a simple PHP image uploader application. To build the
application we’ll be using <a class="reference external" href="https://docs.openshift.com/container-platform/3.10/creating_images/s2i.html">Source-to-image
(S2I)</a>.
S2I is a workflow built into OpenShift that lets developers specify a
few options along with their source code repository, and a custom
container image is generated.</p>
<div class="admonition-a-bit-about-s2i admonition">
<p class="first admonition-title">A bit about S2I</p>
<p>S2I uses a developer’s source code along with what we refer to as a
<em>base image</em>. An S2I base image is like a normal container base image
with a little bit of JSON added in. This JSON tells the S2I process
where to place the application source code so it can be properly served,
along with any other instructions about requirements to build and
prepare the application.</p>
<p class="last">As of right now, S2I expects the source code to be stored on a git
server or platform like <a class="reference external" href="https://github.com">Github</a> or
<a class="reference external" href="https://www.gitlab.com">Gitlab</a>.</p>
</div>
</div>
<div class="section" id="multiple-ways-to-deploy-applications">
<h2>6.2. Multiple ways to deploy applications<a class="headerlink" href="#multiple-ways-to-deploy-applications" title="Permalink to this headline">¶</a></h2>
<p>There are other ways to deploy applications into OpenShift that we won’t
have time to cover today. In short, OpenShift can deploy applications
using just about any container-based workflow you can imagine.</p>
<ul class="simple">
<li>External CI/CD workflows that create images that are pushed into the
OpenShift registry</li>
<li>OpenShift with an internal Jenkins server (coming up in section 4.0)</li>
<li>Specifying a Dockerfile</li>
<li>Just about anything you can think of that builds out a container</li>
</ul>
<p>Enough talk, let’s get an application deployed into OpenShift. First,
we’ll use the CLI.</p>
</div>
<div class="section" id="using-the-cli">
<h2>6.3. Using the CLI<a class="headerlink" href="#using-the-cli" title="Permalink to this headline">¶</a></h2>
<p>Let’s make double-sure that we’re using our <code class="docutils literal notranslate"><span class="pre">image-uploader</span></code> project.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># oc project image-uploader</span>
</pre></div>
</div>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">image-uploader</span></code> project you’ll use the <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">new-app</span></code>
command to deploy your new application using S2I.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># oc new-app --image-stream=php --code=https://github.com/OpenShiftInAction/image-uploader.git --name=app-cli--&gt; Found image b3deb14 (2 weeks old) in image stream &quot;openshift/php&quot; under tag &quot;7.1&quot; for &quot;php&quot;</span>
    <span class="n">Apache</span> <span class="mf">2.4</span> <span class="k">with</span> <span class="n">PHP</span> <span class="mf">7.1</span>
    <span class="o">-----------------------</span>
    <span class="n">PHP</span> <span class="mf">7.1</span> <span class="n">available</span> <span class="k">as</span> <span class="n">container</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">base</span> <span class="n">platform</span> <span class="k">for</span> <span class="n">building</span> <span class="ow">and</span> <span class="n">running</span> <span class="n">various</span> <span class="n">PHP</span> <span class="mf">7.1</span> <span class="n">applications</span> <span class="ow">and</span> <span class="n">frameworks</span><span class="o">.</span> <span class="n">PHP</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">HTML</span><span class="o">-</span><span class="n">embedded</span> <span class="n">scripting</span> <span class="n">language</span><span class="o">.</span> <span class="n">PHP</span> <span class="n">attempts</span> <span class="n">to</span> <span class="n">make</span> <span class="n">it</span> <span class="n">easy</span> <span class="k">for</span> <span class="n">developers</span> <span class="n">to</span> <span class="n">write</span> <span class="n">dynamically</span> <span class="n">generated</span> <span class="n">web</span> <span class="n">pages</span><span class="o">.</span> <span class="n">PHP</span> <span class="n">also</span> <span class="n">offers</span> <span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">database</span> <span class="n">integration</span> <span class="k">for</span> <span class="n">several</span> <span class="n">commercial</span> <span class="ow">and</span> <span class="n">non</span><span class="o">-</span><span class="n">commercial</span> <span class="n">database</span> <span class="n">management</span> <span class="n">systems</span><span class="p">,</span> <span class="n">so</span> <span class="n">writing</span> <span class="n">a</span> <span class="n">database</span><span class="o">-</span><span class="n">enabled</span> <span class="n">webpage</span> <span class="k">with</span> <span class="n">PHP</span> <span class="ow">is</span> <span class="n">fairly</span> <span class="n">simple</span><span class="o">.</span> <span class="n">The</span> <span class="n">most</span> <span class="n">common</span> <span class="n">use</span> <span class="n">of</span> <span class="n">PHP</span> <span class="n">coding</span> <span class="ow">is</span> <span class="n">probably</span> <span class="k">as</span> <span class="n">a</span> <span class="n">replacement</span> <span class="k">for</span> <span class="n">CGI</span> <span class="n">scripts</span><span class="o">.</span>

    <span class="n">Tags</span><span class="p">:</span> <span class="n">builder</span><span class="p">,</span> <span class="n">php</span><span class="p">,</span> <span class="n">php71</span><span class="p">,</span> <span class="n">rh</span><span class="o">-</span><span class="n">php71</span>

    <span class="o">*</span> <span class="n">The</span> <span class="n">source</span> <span class="n">repository</span> <span class="n">appears</span> <span class="n">to</span> <span class="n">match</span><span class="p">:</span> <span class="n">php</span>
    <span class="o">*</span> <span class="n">A</span> <span class="n">source</span> <span class="n">build</span> <span class="n">using</span> <span class="n">source</span> <span class="n">code</span> <span class="kn">from</span> <span class="nn">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">OpenShiftInAction</span><span class="o">/</span><span class="n">image</span><span class="o">-</span><span class="n">uploader</span><span class="o">.</span><span class="n">git</span> <span class="n">will</span> <span class="n">be</span> <span class="n">created</span>
      <span class="o">*</span> <span class="n">The</span> <span class="n">resulting</span> <span class="n">image</span> <span class="n">will</span> <span class="n">be</span> <span class="n">pushed</span> <span class="n">to</span> <span class="n">image</span> <span class="n">stream</span> <span class="s2">&quot;app-cli:latest&quot;</span>
      <span class="o">*</span> <span class="n">Use</span> <span class="s1">&#39;start-build&#39;</span> <span class="n">to</span> <span class="n">trigger</span> <span class="n">a</span> <span class="n">new</span> <span class="n">build</span>
    <span class="o">*</span> <span class="n">This</span> <span class="n">image</span> <span class="n">will</span> <span class="n">be</span> <span class="n">deployed</span> <span class="ow">in</span> <span class="n">deployment</span> <span class="n">config</span> <span class="s2">&quot;app-cli&quot;</span>
    <span class="o">*</span> <span class="n">Ports</span> <span class="mi">8080</span><span class="o">/</span><span class="n">tcp</span><span class="p">,</span> <span class="mi">8443</span><span class="o">/</span><span class="n">tcp</span> <span class="n">will</span> <span class="n">be</span> <span class="n">load</span> <span class="n">balanced</span> <span class="n">by</span> <span class="n">service</span> <span class="s2">&quot;app-cli&quot;</span>
      <span class="o">*</span> <span class="n">Other</span> <span class="n">containers</span> <span class="n">can</span> <span class="n">access</span> <span class="n">this</span> <span class="n">service</span> <span class="n">through</span> <span class="n">the</span> <span class="n">hostname</span> <span class="s2">&quot;app-cli&quot;</span>

<span class="o">--&gt;</span> <span class="n">Creating</span> <span class="n">resources</span> <span class="o">...</span>
    <span class="n">imagestream</span> <span class="s2">&quot;app-cli&quot;</span> <span class="n">created</span>
    <span class="n">buildconfig</span> <span class="s2">&quot;app-cli&quot;</span> <span class="n">created</span>
    <span class="n">deploymentconfig</span> <span class="s2">&quot;app-cli&quot;</span> <span class="n">created</span>
    <span class="n">service</span> <span class="s2">&quot;app-cli&quot;</span> <span class="n">created</span>
<span class="o">--&gt;</span> <span class="n">Success</span>
    <span class="n">Build</span> <span class="n">scheduled</span><span class="p">,</span> <span class="n">use</span> <span class="s1">&#39;oc logs -f bc/app-cli&#39;</span> <span class="n">to</span> <span class="n">track</span> <span class="n">its</span> <span class="n">progress</span><span class="o">.</span>
    <span class="n">Application</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">exposed</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">expose</span> <span class="n">services</span> <span class="n">to</span> <span class="n">the</span> <span class="n">outside</span> <span class="n">world</span> <span class="n">by</span> <span class="n">executing</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">of</span> <span class="n">the</span> <span class="n">commands</span> <span class="n">below</span><span class="p">:</span>
     <span class="s1">&#39;oc expose svc/app-cli&#39;</span>
    <span class="n">Run</span> <span class="s1">&#39;oc status&#39;</span> <span class="n">to</span> <span class="n">view</span> <span class="n">your</span> <span class="n">app</span><span class="o">.</span>
</pre></div>
</div>
<p>The build process should only take a couple of minutes. Once the output
of <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">get</span> <span class="pre">pods</span></code> shows your app-cli pod in a Ready and Running state,
you’re (almost) good to go.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># oc get pods</span>
<span class="n">NAME</span>              <span class="n">READY</span>     <span class="n">STATUS</span>      <span class="n">RESTARTS</span>   <span class="n">AGE</span>
<span class="n">app</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">build</span>   <span class="mi">0</span><span class="o">/</span><span class="mi">1</span>       <span class="n">Completed</span>   <span class="mi">0</span>          <span class="mi">2</span><span class="n">m</span>
<span class="n">app</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">tthhf</span>   <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>       <span class="n">Running</span>     <span class="mi">0</span>          <span class="mi">2</span><span class="n">m</span>
</pre></div>
</div>
<p>We talked briefly about services and pods and all of the constructs
inside OpenShift during the presentation part of this lab. You can see
in the output above that you created a service as part of your new
application, along with other needed objects. Let’s take a look at the
app-cli service using the command line.</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">oc</span> <span class="pre">describe</span> <span class="pre">svc/app-cli</span> <span class="pre">Name:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">app-cli</span> <span class="pre">Namespace:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">image-uploader</span> <span class="pre">Labels:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">app=app-cli</span> <span class="pre">Annotations:</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">openshift.io/generated-by=OpenShiftNewApp</span> <span class="pre">Selector:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">app=app-cli,deploymentconfig=app-cli</span> <span class="pre">Type:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">ClusterIP</span> <span class="pre">IP:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">172.30.251.220</span> <span class="pre">Port:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">8080-tcp</span>&#160; <span class="pre">8080/TCP</span> <span class="pre">TargetPort:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">8080/TCP</span> <span class="pre">Endpoints:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">10.130.0.36:8080</span> <span class="pre">Port:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">8443-tcp</span>&#160; <span class="pre">8443/TCP</span> <span class="pre">TargetPort:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">8443/TCP</span> <span class="pre">Endpoints:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">10.130.0.36:8443</span> <span class="pre">Session</span> <span class="pre">Affinity:</span>&#160; <span class="pre">None</span> <span class="pre">Events:</span></code></p>
<p>Before we can get to our new application, we have to expose the service
externally. When you deploy an application using the CLI, an external
route is not automatically created. To create a route, use the
<code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">expose</span></code> command.</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">oc</span> <span class="pre">expose</span> <span class="pre">svc/app-cli</span> <span class="pre">route</span> <span class="pre">&quot;app-cli&quot;</span> <span class="pre">exposed</span></code></p>
<p><strong>What is ``svc``?!</strong></p>
<p>Because typing is hard, most objects in OpenShift have an abbreviated
syntax you can use on the CLI. Services can also be described as
<code class="docutils literal notranslate"><span class="pre">svc</span></code>, DeploymentConfigs are <code class="docutils literal notranslate"><span class="pre">dc</span></code>, Replication Controllers are
<code class="docutils literal notranslate"><span class="pre">rc</span></code>. Pods and routes don’t have abbreviations. A list is available
<a class="reference external" href="https://docs.openshift.com/container-platform/3.10/cli_reference/basic_cli_operations.html#object-types">in the OpenShift
documentation</a>.</p>
<p>To see and confirm our route, use the <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">get</span> <span class="pre">routes</span></code> command.</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">oc</span> <span class="pre">get</span> <span class="pre">routes</span> <span class="pre">NAME</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">HOST/PORT</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">PATH</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">SERVICES</span>&#160;&#160; <span class="pre">PORT</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">TERMINATION</span>&#160;&#160; <span class="pre">WILDCARD</span> <span class="pre">app-cli</span>&#160;&#160; <span class="pre">app-cli-image-uploader.student1.boston.redhatgov.io</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">app-cli</span>&#160;&#160;&#160; <span class="pre">8080-tcp</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">None</span></code></p>
<p>If you browse to your newly created route, you should see the Image
Uploader application, ready for use.</p>
<div class="figure">
<img alt="" src="../_images/app-cli.png" />
</div>
<p>And that’s it. Using OpenShift, we took nothing but a github repo and
turned it into a fully deployed application in just a handful of
commands. Next, let’s scale your application to make it more resilient
to traffic spikes.</p>
</div>
<div class="section" id="scaling-an-application-using-the-cli">
<h2>6.4. 2.3.4 - Scaling an application using the CLI<a class="headerlink" href="#scaling-an-application-using-the-cli" title="Permalink to this headline">¶</a></h2>
<p>Scaling your <code class="docutils literal notranslate"><span class="pre">app-cli</span></code> application is accomplished with a single
<code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">scale</span></code> command.</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">oc</span> <span class="pre">scale</span> <span class="pre">dc/app-cli</span> <span class="pre">--replicas=3</span> <span class="pre">deploymentconfig.apps.openshift.io</span> <span class="pre">&quot;app-cli&quot;</span> <span class="pre">scaled</span></code></p>
<p>Because your second application node doesn’t have the custom container
image for <code class="docutils literal notranslate"><span class="pre">app-cli</span></code> already cached, it may take a few seconds for the
initial pod to be created on that node. To confirm everything is
running, use the <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">get</span> <span class="pre">pods</span></code> command. The additional <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">wide</span></code>
provides additional output, including the internal IP address of the pod
and the node where it’s deployed.</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">oc</span> <span class="pre">get</span> <span class="pre">pods</span> <span class="pre">-o</span> <span class="pre">wide</span> <span class="pre">NAME</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">READY</span>&#160;&#160;&#160;&#160; <span class="pre">STATUS</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">RESTARTS</span>&#160;&#160; <span class="pre">AGE</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">IP</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">NODE</span> <span class="pre">app-cli-1-26fgz</span>&#160;&#160; <span class="pre">1/1</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Running</span>&#160;&#160;&#160;&#160; <span class="pre">0</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">9s</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">10.131.0.6</span>&#160;&#160;&#160; <span class="pre">ip-172-16-50-98.ec2.internal</span> <span class="pre">app-cli-1-bgt75</span>&#160;&#160; <span class="pre">1/1</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Running</span>&#160;&#160;&#160;&#160; <span class="pre">0</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">4m</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">10.130.0.41</span>&#160;&#160; <span class="pre">ip-172-16-245-111.ec2.internal</span> <span class="pre">app-cli-1-build</span>&#160;&#160; <span class="pre">0/1</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Completed</span>&#160;&#160; <span class="pre">0</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">21m</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">10.130.0.34</span>&#160;&#160; <span class="pre">ip-172-16-245-111.ec2.internal</span> <span class="pre">app-cli-1-tthhf</span>&#160;&#160; <span class="pre">1/1</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Running</span>&#160;&#160;&#160;&#160; <span class="pre">0</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">21m</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">10.130.0.36</span>&#160;&#160; <span class="pre">ip-172-16-245-111.ec2.internal</span></code></p>
<p>Using a single command, you just scaled your application from 1 instance
to 3 instances on 2 servers. In a matter of seconds. Compare that to
what your application scaling process is using VMs or bare metal
systems; or even things like Amazon ECS or just Docker. It’s pretty
amazing. Next, let’s do the same thing using the web interface.</p>
</div>
<div class="section" id="using-the-web-interface">
<h2>6.5. Using the web interface<a class="headerlink" href="#using-the-web-interface" title="Permalink to this headline">¶</a></h2>
<p>The web interface for OpenShift makes additional assumptions when its
used. The biggest difference you’ll notice compared to the CLI is that
routes are automatically created when applications are deployed. This
can be altered, but it is the default behavior. To get started, browse
to your control node using HTTPS and log in using your admin username.</p>
<div class="figure">
<img alt="" src="../_images/ocp_login.png" />
</div>
<p>On the right side, select the Image Uploader Project. You may need to
click the <em>View All</em> link to have it show up for the first time.</p>
<div class="figure">
<img alt="" src="../_images/ocp_project_list.png" />
</div>
<p>After clicking on the project, you’ll notice the app-cli project we just
deployed. If you click on its area, it will expand to show additional
application details. These details include the exposed route, build
information, and even resource metrics.</p>
<div class="figure">
<img alt="" src="../_images/app-cli_gui.png" />
</div>
<p>To deploy an application from the web interface, click the <em>Add To
Project</em> button in the top right corner, followed by <em>Browse Catalog</em>.</p>
<div class="figure">
<img alt="" src="../_images/ocp_add_to_project.png" />
</div>
<p>This button brings up the Template Catalog. The Template Catalog is a
collection of 100+ builder images and quickstart templates that
developers can use out of the box to deploy custom applications quickly.</p>
<div class="admonition-what-about-my-custom-apps-and-stuff admonition">
<p class="first admonition-title">What about my custom apps and stuff?</p>
<p class="last">The templates available in today’s lab are just what’s available out
of the box in OpenShift. You and your developers can also <a class="reference external" href="https://docs.openshift.com/container-platform/3.10/dev_guide/templates.html">create custom
templates</a>
and add them to a single project or make them avaialable to your entire
cluster. Other platforms can also be integrated into your OpenShift
Catalog. Ansible (which is being used by your developers in the
developer lab right now!), AWS, Azure, and other service brokers are
available for integration with OpenShift today.</p>
</div>
<div class="figure">
<img alt="" src="../_images/ocp_service_catalog.png" />
</div>
<p>Using the <em>Search Catalog</em> form, search for <em>PHP</em>, because the Image
Uploader application is written using PHP. You’ll get 3 search results
back.</p>
<div class="figure">
<img alt="" src="../_images/ocp_php_results.png" />
</div>
<p>Image Uploader is a simple application that doesn’t require a database
or CMS. So we’ll just select the PHP builder image, which is the same
image we used when we deployed the same application from the command
line. Selecting this option takes you to a simple wizard that helps
deploy your application. Supply the same git repository you used for
<code class="docutils literal notranslate"><span class="pre">app-cli</span></code>, give it the name <code class="docutils literal notranslate"><span class="pre">app-gui</span></code>, and click <em>Create</em>.</p>
<div class="figure">
<img alt="" src="../_images/ocp_app-gui_wizard.png" />
</div>
<p>You’ll get a confirmation that the build has started. Click the
<em>Continue to project overview</em> link to return to the Image Uploader
project. You’ll notice that the <code class="docutils literal notranslate"><span class="pre">app-gui</span></code> build is progressing
quickly.</p>
<div class="figure">
<img alt="" src="../_images/ocp_app-gui_build.png" />
</div>
<p>After the build completes, the deployment of the custom container image
starts and quickly completes. A route is then created and automatically
associated with <code class="docutils literal notranslate"><span class="pre">app-gui</span></code>. And just like that, you’ve deployed
multiple instances of the same application with different URLs onto your
OpenShift platform.</p>
<p>Next, let’s take a quick look at what is going on with your newly
deployed applications within the OpenShift cluster.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ocp-sdn/" class="btn btn-neutral float-right" title="7. OpenShift SDN" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../container-selinux/" class="btn btn-neutral" title="5. Protection with SELinux" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Jamie Duncan

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>